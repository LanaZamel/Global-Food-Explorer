<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            google.charts.load('current', {
                'packages':['geochart'],
            });
            google.charts.setOnLoadCallback(drawRegionsMap);

            function drawRegionsMap() {
                // Load the json data from a file or a URL
                $.getJSON("filtered_tobacco_global_food.json", function(jsonData) {
                    // Filter the data by the year 2020
                    var filteredData = jsonData.filter(function(d) {
                        return d.Year == 2020;
                    });
                    // Convert the data into a two-dimensional array
                    var dataArray = [["Country", "Production (t)", "Population"]];
                    filteredData.forEach(function(d) {
                        dataArray.push([d.Country, d["Production (t)"], d.Population]);
                    });
                    // Create a data table from the array
                    var data = google.visualization.arrayToDataTable(dataArray);
                
                    var options = {
                        // Display both "Production (t)" and "Population" on hover
                        tooltip: {isHtml: true},
                    };
                
                    var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));
                
                    chart.draw(data, options);
                });
            }
        </script>
    </head>
    <body>
        <div id="regions_div" style="width: 900px; height: 500px;"></div>
    </body>
</html>
